<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>🧪 Bài thi tự luận</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .glass{background:rgba(255,255,255,.92);backdrop-filter:blur(8px)}
    .soft-shadow{box-shadow:0 10px 25px rgba(0,0,0,.08)}
  </style>
</head>
<body class="min-h-screen bg-slate-50">
  <main class="max-w-3xl mx-auto px-4 py-10 space-y-8">

    <!-- Header -->
    <header class="text-center">
      <h1 class="text-3xl font-extrabold tracking-wide" style="color:#00A3C6">🧪 Bài thi tự luận</h1>
      <p class="text-slate-600 mt-2">Nhập tên của bạn, bấm <b>Bắt đầu</b> để làm bài. Khi hoàn thành hãy <b>Nộp bài</b>.</p>
    </header>

    <!-- Screen 1: nhập tên -->
    <section id="screenWelcome" class="glass soft-shadow rounded-2xl p-6">
      <label class="block text-sm font-semibold mb-2">Tên nhân viên</label>
      <input id="employeeName" class="w-full border rounded-lg p-3" placeholder="Nhập tên của bạn"/>
      <button id="btnStart" class="mt-4 bg-sky-600 text-white font-semibold px-5 py-3 rounded-lg hover:bg-sky-700">
        ▶️ Bắt đầu
      </button>
    </section>

    <!-- Screen 2: làm bài -->
    <section id="screenQuiz" class="hidden glass soft-shadow rounded-2xl p-6">
      <h2 class="text-xl font-bold mb-4">Câu hỏi</h2>

      <!-- Bạn có thể thay đổi / thêm bớt câu ở dưới -->
      <div class="space-y-5">
        <div>
          <p class="font-semibold">1) Trong trò chơi baccarat như thế nào được gọi là thắng tự nhiên, thắng không tự nhiên? Nhà cái thắng tỉ lệ ăn nửa trong trường hợp nào ?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">2) Baccarat khi 2 lá bài đầu tiên nhà con và nhà cái hòa nhau với số điểm là 4 điểm, nhà con bốc thêm lá bài thứ 3 có giá trị 1 vậy nhà cái  có cần thêm bài không? Kết quả?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">3) 3.Baccarat khi 2 lá bài đầu tiền của nhà con và nhà cái hòa nhau với số điểm là 5 điểm, nhà con bốc lá bài thứ 3 là Q♥️ vậy nhà cái có cần thêm bài không? Kết quả?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">4) 4.Trong Baccarat Lucky 6 là như thế nào, đặt cược Lucky 6 sẽ thắng cược trong trường hợp nào?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">5) Đặt cược Lucky6 10 điểm, kết quả về như hình dưới tại sao thua ?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">6) Trong trò chơi Rồng - Hổ cược Rồng hoặc Hổ nếu kết quả về Hòa thì thắng hay thua như nào và tỉ lệ cược là bao nhiêu?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">7) Nhiệm vụ của FK là gì?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">8) Bạn hiểu như thế nào về bộ phận FK, bộ phận bạn đang đảm nhiệm</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">9) Anh đặt con 500 cho cửa Rồng trong trò Rồng - Hổ kết quả ra Rồng 8 Bích - Hổ 8 Chuồn kết quả ván này anh thắng bao nhiêu tiền ?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">10) Trò Roulette tổng cộng có bao nhiêu số? Đặt cược như thế nào thì được coi là không hợp lệ, có những cách gì lạm dụng, đối đầu từ trò chơi này</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">11) Cược xiên là gì? Có mấy kiểu cược xiên?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">12) Cược chấp là gì?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">13) Cược tài xỉu là gì?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">14) Em hiểu thế nào về đề đuôi, đề đầu và bao lô?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">15) Như thế nào là khách lạm dụng, các mục đính lạm dụng chính là gì?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">16) Khi bắt đối đầu 1 tài khoản cần dựa vào những yếu tố nào? Tỷ lệ đối đầu bao nhiêu % thì mình bắt được và bao nhiêu % thì mình quan sát.</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">17) Các bước kiểm tra khi duyệt một đơn khuyến mãi trên trang BO (khuyến mãi lần đầu ) trường hợp nào là từ chối khuyến mãi</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">18) Khách của MKT thường sẽ có những hình thức lạm dụng nào ?
   khách của đại lý ngoài có những hình thức lạm dụng nào?
   Khách thuộc tổng có những hình thức lạm dụng nào?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">19) Khi có 1 nhóm thắng lớn ở sảnh bắn cá hay nổ hủ thì có vấn đề gì bất thường không và nếu có thì vấn đề đó là gì ?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">20) Duyệt đơn lần đầu cần chú ý những vẫn đề gì,
có cần ưu tiền duyệt những đơn lớn trước không và tại sao ?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">21) Nếu khách cược thể thao hoặc sổ xố mà có dấu hiệu bất thường nhưng chưa tìm ra được chứng cứ thì cần làm như thế nào, và cách giải 
quyết.?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">22) Gặp những trường hợp nào thì đóng băng tài khoản khách nêu rõ từng trường hợp và vì sao ?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
        <div>
          <p class="font-semibold">23) Nêu ý kiến về ưu điểm cũng như nhược điểm web cần cải thiện hơn nữa ?</p>
          <textarea class="quiz-answer w-full border rounded-lg p-3 mt-2" rows="4" placeholder="Câu trả lời của bạn..."></textarea>
        </div>
      </div>

      <button id="btnSubmit" class="mt-6 bg-emerald-600 text-white font-semibold px-5 py-3 rounded-lg hover:bg-emerald-700">
        📤 Nộp bài
      </button>
    </section>

    <!-- Screen 3: cảm ơn -->
    <section id="screenThank" class="hidden glass soft-shadow rounded-2xl p-6 text-center">
      <h2 class="text-xl font-bold mb-2">🎉 Cảm ơn bạn!</h2>
      <p class="text-slate-700 leading-relaxed">
        Cảm ơn bạn đã cố gắng hoàn thành phần thi của mình, bạn vui lòng đợi công bố kết quả từ bộ phận liên quan. Cảm ơn.
      </p>
      <a href="index.html" class="inline-block mt-5 text-sky-600 hover:underline">⟵ Quay về trang chính</a>
    </section>

  </main>

  <script>
    // 👉 THAY bằng Web App URL của Apps Script của bạn
    const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbwTJLgtpiIv4PYF8ZVNom3Zpapl9Ak2ZsJo8O41iKc8UN-uwSiax2wt4_6uVNxEvYNU/exec";

    const $ = s => document.querySelector(s);
    const screenWelcome = $("#screenWelcome");
    const screenQuiz    = $("#screenQuiz");
    const screenThank   = $("#screenThank");
    const btnStart      = $("#btnStart");
    const btnSubmit     = $("#btnSubmit");
    const employeeName  = $("#employeeName");

    btnStart.addEventListener("click", () => {
      const name = employeeName.value.trim();
      if (!name) { alert("Vui lòng nhập tên!"); return; }
      screenWelcome.classList.add("hidden");
      screenQuiz.classList.remove("hidden");
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    btnSubmit.addEventListener("click", async () => {
      const answers = [...document.querySelectorAll(".quiz-answer")]
                 .map(el => el.value.trim());

// Kiểm tra ít nhất có trả lời
if (answers.every(a => !a)) {
  alert("Bạn chưa nhập câu trả lời nào.");
  return;
}

...

body: JSON.stringify({
  name: name,      // sửa "employee" -> "name"
  answers: answers // mảng string
})
        });
        const json = await res.json();
        if (!json.ok) throw new Error(json.error || "Submit failed");

        screenQuiz.classList.add("hidden");
        screenThank.classList.remove("hidden");
        window.scrollTo({ top: 0, behavior: "smooth" });
      } catch (e) {
        console.error(e);
        alert("❌ Lỗi nộp bài, vui lòng thử lại!");
      } finally {
        btnSubmit.disabled = false; btnSubmit.textContent = "📤 Nộp bài";
      }
    });
  </script>
</body>
</html>
