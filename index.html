<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BỘ PHẬN RỦI RO SHBET</title>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

  <style>
    html{scroll-behavior:smooth}
    :root{--card:bg:255,255,255;}
    body{font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;}
    .glass{background:rgba(255,255,255,.86);backdrop-filter:blur(8px);}
    .soft-shadow{box-shadow:0 10px 25px rgba(0,0,0,.08);}
    .pill{border-radius:9999px}
    .gradient-btn{background-image:linear-gradient(135deg,#1e3a8a,#2563eb);} /* indigo-900 -> blue-600 */
    .rank-chip{display:flex;align-items:center;gap:.6rem;padding:.55rem 1rem;border-radius:12px;color:#1f2937;font-weight:700}
  </style>
</head>
<body class="min-h-screen bg-[url('https://images.unsplash.com/photo-1519060825752-c4832f2d400a?q=80&w=2400&auto=format&fit=crop')] bg-cover bg-center relative">

  <!-- mờ nền để dễ đọc -->
  <div class="absolute inset-0 bg-white/70"></div>

  <header class="relative z-10 text-center pt-10 pb-2">
    <h1 style="color:#00A3C6;" class="text-3xl md:text-4xl font-extrabold tracking-wide drop-shadow-sm">
      BỘ PHẬN RỦI RO SHBET
    </h1>

  <main class="relative z-10 container mx-auto px-4 md:px-8">
    <div class="grid md:grid-cols-2 gap-6 md:gap-10 items-start justify-center">

      <!-- Cột trái: BXH KPI -->
      <section class="glass soft-shadow rounded-2xl p-5 md:p-6">
        <h2 class="text-xl font-extrabold text-slate-800 flex items-center gap-2">
          🏆 BXH TOP KPI THÁNG 08
        </h2>
        <div class="mt-4 space-y-3">
          <div class="rank-chip" style="background:#fde047">👑 ANGEL</div>
          <div class="rank-chip" style="background:#cbd5e1">🥈 JUNHO</div>
          <div class="rank-chip" style="background:#d4a373">🥉 DADO</div>
        </div>
        <h2 class="text-xl font-extrabold text-slate-800 mt-6">🏆 BXH TOP KPI THÁNG 09</h2>
        <p class="text-slate-500 mt-2">Đang cập nhật…</p>
      </section>

      <!-- Cột phải: Kiểm tra thông tin / các nút hành động -->
      <section class="glass soft-shadow rounded-2xl p-5 md:p-6">
        <h2 class="text-xl font-extrabold text-slate-800 flex items-center gap-2">
          ⭐ KIỂM TRA THÔNG TIN
        </h2>
        <div class="mt-4 space-y-3">
          <a href="#" class="block pill gradient-btn text-white px-4 py-3 soft-shadow hover:brightness-110 transition">
            🎁 Nhập khuyến mãi
          </a>
          <!-- Đổi href thành #form-daily để cuộn xuống form -->
          <a href="daily.html" class="block pill bg-sky-700 text-white px-4 py-3 soft-shadow hover:brightness-110 transition">
  📘 Nhập thông tin đại lý
          </a>
          <a href="#" class="block pill bg-sky-700 text-white px-4 py-3 soft-shadow hover:brightness-110 transition">
            🧪 Test định kỳ tự luận
          </a>
          <a href="#" class="block pill bg-sky-700 text-white px-4 py-3 soft-shadow hover:brightness-110 transition">
            📝 Test định kỳ trắc nghiệm
          </a>
        </div>
      </section>

    </div>

    <!-- FORM NHẬP DỮ LIỆU ĐẠI LÝ -->
    <section id="form-daily" class="max-w-2xl mx-auto glass soft-shadow rounded-2xl p-6 my-10">
      <h2 class="text-xl font-bold mb-4">📌 Nhập dữ liệu Đại lý</h2>

      <label class="block mb-1">Đại lý</label>
      <input id="daily" type="text" class="w-full border p-2 rounded mb-3" placeholder="Nhập tên đại lý">

      <label class="block mb-1">Nội dung</label>
      <textarea id="noiDung" class="w-full border p-2 rounded mb-3" placeholder="Nhập nội dung"></textarea>

      <label class="block mb-1">Nhân viên</label>
      <input id="employee" type="text" class="w-full border p-2 rounded mb-3" placeholder="Nhập tên nhân viên">

      <label class="block mb-1">Xử lý</label>
      <input id="xuLy" type="text" class="w-full border p-2 rounded mb-4" placeholder="Trạng thái xử lý">

      <label class="block mb-1">Chọn file (Ảnh/Excel)</label>
      <input id="file" type="file" class="w-full border p-2 rounded mb-4">

      <button onclick="submitData()" class="bg-emerald-600 text-white px-4 py-2 rounded hover:bg-emerald-700">
        🚀 Upload
      </button>
    </section>
  </main>

  <!-- Nút mini game nổi góc phải  -->
  <a href="#" class="fixed bottom-6 right-6 z-10 pill bg-pink-600 text-white font-extrabold px-5 py-3 soft-shadow hover:scale-105 transition">
    🎮 MINI GAME
  </a>

  <!-- Script gửi dữ liệu về Google Sheets (CHỈ 1 HÀM) -->
  <script>
    async function submitData() {
      const daily     = document.getElementById("daily").value;
      const noiDung   = document.getElementById("noiDung").value;
      const employee  = document.getElementById("employee").value;
      const xuLy      = document.getElementById("xuLy").value;
      const fileInput = document.getElementById("file").files[0];

      let fileData = "", fileName = "", mimeType = "";
      if (fileInput) {
        fileName = fileInput.name;
        mimeType = fileInput.type;
        const reader = new FileReader();
        fileData = await new Promise((resolve) => {
          reader.onload = (e) => resolve(e.target.result.split(",")[1]);
          reader.readAsDataURL(fileInput);
        });
      }

      // ⚠️ THAY bằng URL Web App của bạn
      const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbxhcotw2glL0CSKzm_AH51U1OUjP4v_a204djzCgCPpAdNa3VruXkMen-y9P2aL5aU/exec";

      fetch(WEB_APP_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ daily, noiDung, employee, xuLy, fileName, mimeType, base64: fileData })
      })
      .then(r => r.json())
      .then(res => { alert("✅ Đã lưu thành công!"); console.log(res); })
      .catch(err => { alert("❌ Lỗi khi lưu dữ liệu!"); console.error(err); });
    }
  </script>
</body>
</html>
